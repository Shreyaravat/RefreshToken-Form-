<div class="form-wrapper">

<form [formGroup]="detailsform" (ngSubmit)="submitfunction()" class="form-container">
  <h1 class="form-title">Registration Form</h1>

  <!-- Name -->
  <label for="name" class="label">Name:</label>
  <input type="text" id="name" class="input-field" placeholder="Enter Name" formControlName="name">
  <div *ngIf="detailsform.controls['name'].invalid && detailsform.controls['name'].touched" class="error-message">
    <small>Name is required (Min: 3, Max: 20 characters)</small>
  </div>

  <!-- Email -->
  <label for="email" class="label">Email:</label>
  <input type="email" id="email" class="input-field" placeholder="Enter Email" formControlName="email">
  <div *ngIf="detailsform.controls['email'].invalid && detailsform.controls['email'].touched" class="error-message">
    <small>Enter a valid email</small>
  </div>

  <!-- Password -->
  <label for="password" class="label">Password:</label>
  <input type="password" id="password" class="input-field" placeholder="Enter Password" formControlName="password">
  <div *ngIf="detailsform.controls['password'].invalid && detailsform.controls['password'].touched" class="error-message">
    <small>Password must be at least 6 characters</small>
  </div>

  <!-- Phone Number -->
  <label for="phone" class="label">Phone Number:</label>
  <input type="tel" id="phone" class="input-field" placeholder="Enter Phone Number" formControlName="phone">
  <div *ngIf="detailsform.controls['phone'].invalid && detailsform.controls['phone'].touched" class="error-message">
    <small>Enter a valid 10-digit phone number</small>
  </div>

  <!-- Date of Birth -->
  <label for="dob" class="label">Date of Birth:</label>
  <input type="date" id="dob" class="input-field" formControlName="dob">
  <div *ngIf="detailsform.controls['dob'].invalid && detailsform.controls['dob'].touched" class="error-message">
    <small>Date of Birth is required</small>
  </div>

  <!-- Gender -->
  <label class="label">Gender:</label>
  <div class="radio-group">
    <input type="radio" class="radio-input" formControlName="gender" value="Male" id="male"> 
    <label for="male" class="radio-label">Male</label>
    <input type="radio" class="radio-input" formControlName="gender" value="Female" id="female"> 
    <label for="female" class="radio-label">Female</label>
  </div>
  <div *ngIf="detailsform.controls['gender'].invalid && detailsform.controls['gender'].touched" class="error-message">
    <small>Select a gender</small>
  </div>

  <!-- Hobbies -->
  <label class="label">Hobbies:</label>
  <div formArrayName="hobbies" class="checkbox-group">
    <div *ngFor="let hobby of hobbiesList; let i = index">
      <input type="checkbox" [id]="hobby" [value]="hobby" (change)="onCheckboxChange($event)" />
      <label [for]="hobby">{{ hobby }}</label>
    </div>
  </div>
  <div *ngIf="detailsform.get('hobbies')?.errors?.['required'] && detailsform.get('hobbies')?.touched" class="error-message">
    <small>Select at least one hobby</small>
  </div>

  <!-- Address -->
  <label for="address" class="label">Address:</label>
  <textarea id="address" class="textarea" placeholder="Enter Address" formControlName="address"></textarea>
  <div *ngIf="detailsform.controls['address'].invalid && detailsform.controls['address'].touched" class="error-message">
    <small>Address is required</small>
  </div>

  <!-- State Dropdown -->
  <label for="state" class="label">State:</label>
  <select id="state" class="dropdown" formControlName="state" (change)="onStateChange($event)">
    <option value="" disabled selected>Select State</option>
    <option *ngFor="let state of states" [value]="state">{{ state }}</option>
  </select>
  <div *ngIf="detailsform.controls['state'].invalid && detailsform.controls['state'].touched" class="error-message">
    <small>State is required</small>
  </div>

  <!-- District Dropdown -->
  <label for="district" class="label">District:</label>
  <select id="district" class="dropdown" formControlName="district" (change)="onDistrictChange($event)" [disabled]="!districts.length">
    <option value="" disabled selected>Select District</option>
    <option *ngFor="let district of districts" [value]="district">{{ district }}</option>
  </select>
  <div *ngIf="detailsform.controls['district'].invalid && detailsform.controls['district'].touched" class="error-message">
    <small>District is required</small>
  </div>

  <!-- Taluka Dropdown -->
  <label for="taluka" class="label">Taluka:</label>
  <select id="taluka" class="dropdown" formControlName="taluka" (change)="onTalukaChange($event)" [disabled]="!talukas.length">
    <option value="" disabled selected>Select Taluka</option>
    <option *ngFor="let taluka of talukas" [value]="taluka">{{ taluka }}</option>
  </select>
  <div *ngIf="detailsform.controls['taluka'].invalid && detailsform.controls['taluka'].touched" class="error-message">
    <small>Taluka is required</small>
  </div>

  <!-- Village Dropdown -->
  <label for="village" class="label">Village:</label>
  <select id="village" class="dropdown" formControlName="village" [disabled]="!villages.length">
    <option value="" disabled selected>Select Village</option>
    <option *ngFor="let village of villages" [value]="village">{{ village }}</option>
  </select>
  <div *ngIf="detailsform.controls['village'].invalid && detailsform.controls['village'].touched" class="error-message">
    <small>Village is required</small>
  </div>

  <!-- File Upload -->
  <label for="file" class="label">Upload ZIP File:</label>
  <input type="file" id="file" class="file-input" (change)="onFileChange($event)">
  <div *ngIf="fileError" class="error-message">
    <small>Only ZIP files are allowed</small>
  </div>

  <!-- Buttons -->
  <div class="button-group">
    <button type="submit" class="submit-button">Submit</button>
    <button type="button" class="reset-button" (click)="resetForm()">Reset</button>
  </div>

</form>

</div>
